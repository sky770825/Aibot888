# 🌐 遠端部署使用說明

## 📋 快速開始

### 1. 本地測試
```bash
# 啟動本地服務器
node remote-update-server.js

# 訪問測試
http://localhost:3000
```

### 2. 遠端部署

#### 方法一：使用 Vercel（推薦）
```bash
# 1. 執行部署腳本
deploy-remote.bat

# 2. 選擇選項 1 (Vercel)
# 3. 按照提示完成部署
```

#### 方法二：手動部署
```bash
# 1. 建立部署目錄
mkdir ai-website-remote
cd ai-website-remote

# 2. 複製檔案
copy remote-update-server.js .
copy package-remote.json package.json
copy vercel.json .
copy login.html .
copy update-control.html .
copy client-updater.js .
copy index.html .
copy styles.css .
copy script.js .
copy remote-client-config.js .

# 3. 安裝依賴
npm install

# 4. 部署到 Vercel
npx vercel
```

## 🔧 配置設定

### 1. 修改遠端服務器網址
編輯 `remote-client-config.js`：
```javascript
const REMOTE_CONFIG = {
    serverUrl: 'https://your-actual-domain.vercel.app', // 改為您的實際網址
    // ... 其他設定
};
```

### 2. 設定環境變數
在 Vercel Dashboard 中設定：
- `SESSION_SECRET`: 會話密鑰
- `ADMIN_PASSWORD`: 管理員密碼

## 📱 使用流程

### 1. 遠端登入
1. 訪問您的部署網址
2. 點擊「登入」或直接訪問 `/login.html`
3. 使用帳號密碼登入：
   - 管理員：`admin` / `admin123`
   - 一般用戶：`user1` / `user123`

### 2. 下載更新
1. 登入後訪問 `/update-control.html`
2. 點擊「檢查更新」
3. 點擊「立即更新」下載最新版本

### 3. 自動更新
1. 訪問主網站
2. 系統會自動檢查更新
3. 發現新版本時會提示更新

## 🔐 安全設定

### 1. 修改預設密碼
在 `remote-update-server.js` 中修改：
```javascript
const users = [
    {
        id: 1,
        username: 'admin',
        password: process.env.ADMIN_PASSWORD || 'your-new-password',
        // ...
    }
];
```

### 2. 限制訪問來源
在 `remote-update-server.js` 中修改 CORS 設定：
```javascript
app.use(cors({
    origin: ['https://your-domain.com'], // 限制特定網域
    credentials: true
}));
```

## 📊 監控和管理

### 1. 查看日誌
- Vercel Dashboard → Functions → Logs
- 查看服務器運行狀態和錯誤

### 2. 管理用戶
- 訪問控制面板：`/update-control.html`
- 查看登入狀態和權限

### 3. 備份管理
- 管理員可以創建備份
- 備份檔案存儲在服務器

## 🚨 故障排除

### 常見問題

1. **無法登入**
   - 檢查服務器是否正常運行
   - 確認用戶名密碼正確
   - 檢查網路連接

2. **更新失敗**
   - 檢查登入狀態
   - 確認有更新權限
   - 查看錯誤日誌

3. **檔案下載失敗**
   - 檢查檔案路徑
   - 確認檔案存在
   - 檢查權限設定

### 除錯步驟

1. **檢查服務器狀態**
   ```bash
   curl https://your-domain.vercel.app/api/health
   ```

2. **測試認證**
   ```bash
   curl -X POST https://your-domain.vercel.app/api/auth/login \
        -H "Content-Type: application/json" \
        -d '{"username":"admin","password":"admin123"}'
   ```

3. **查看日誌**
   - Vercel Dashboard → Functions → Logs
   - 查看詳細錯誤訊息

## 💡 進階功能

### 1. 自定義更新邏輯
修改 `client-updater.js` 中的更新邏輯

### 2. 添加更多用戶
在 `remote-update-server.js` 中添加用戶

### 3. 設定自動備份
添加定時備份功能

### 4. 監控和警報
添加更新通知和監控

## 📞 支援

如有問題，請檢查：
1. 服務器日誌
2. 網路連接
3. 配置設定
4. 權限設定

---

**版本**: 1.0.0  
**更新日期**: 2024年12月  
**作者**: AI開發術語網站團隊
